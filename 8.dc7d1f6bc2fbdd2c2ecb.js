(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"vNl+":function(e,t,o){"use strict";o.r(t),o.d(t,"ClientesModule",(function(){return G}));var r=o("ofXK"),i=o("tyNb"),n=o("fXoL"),a=o("ct8N"),b=o("Guef");const c=function(e){return[e,"edite"]};function l(e,t){if(1&e){const e=n.Qb();n.Pb(0,"tr"),n.Pb(1,"td"),n.tc(2),n.Ob(),n.Pb(3,"td"),n.tc(4),n.Ob(),n.Pb(5,"td"),n.tc(6),n.Ob(),n.Pb(7,"td"),n.tc(8),n.Ob(),n.Pb(9,"td"),n.Pb(10,"a",12),n.tc(11,"Editar"),n.Ob(),n.Pb(12,"button",13),n.Wb("click",(function(){n.lc(e);const o=t.$implicit;return n.Yb().Remova(o)})),n.tc(13,"Excluir"),n.Ob(),n.Ob(),n.Ob()}if(2&e){const e=t.$implicit;n.yb(2),n.uc(e.nome),n.yb(2),n.uc(e.email),n.yb(2),n.uc(e.telefone),n.yb(2),n.uc(e.valorSessao),n.yb(2),n.dc("routerLink",n.fc(5,c,e.id))}}let s=(()=>{class e{constructor(e){this.clienteService=e,this.clientes=[]}ngOnInit(){this.obtenhaTodos(1)}obtenhaTodos(e){this.clienteService.getAll(e).subscribe(e=>{this.clientes=e.Items,this.quantidadeTotalDeItens=e.TotalItems,this.pageSize=e.PageSize},e=>alert("erro ao carregar lista"))}Remova(e){this.clienteService.delete(e.id).subscribe(()=>this.clientes=this.clientes.filter(t=>t!=e),()=>"Erro ao excluir cliente")}}return e.\u0275fac=function(t){return new(t||e)(n.Jb(a.a))},e.\u0275cmp=n.Db({type:e,selectors:[["app-lista-clientes"]],decls:30,vars:3,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-md"],[1,"h2","border-left","pl-2"],["routerLink","novo",1,"btn","btn-success","float-right"],[1,"card"],[1,"table","table-hover","mt-5"],[4,"ngFor","ngForOf"],[3,"totalDeItens","pageSize","aoMudarDePagina"],[1,"btn","btn-outline-info","btn-sm",3,"routerLink"],[1,"btn","btn-outline-danger","btn-sm","ml-2",3,"click"]],template:function(e,t){1&e&&(n.Pb(0,"nav"),n.Pb(1,"ol",0),n.Pb(2,"li",1),n.Pb(3,"a",2),n.tc(4,"Home"),n.Ob(),n.Ob(),n.Pb(5,"li",3),n.tc(6,"Clientes"),n.Ob(),n.Ob(),n.Ob(),n.Pb(7,"div",4),n.Pb(8,"div",5),n.Pb(9,"h1",6),n.tc(10," Clientes "),n.Ob(),n.Ob(),n.Pb(11,"div",5),n.Pb(12,"a",7),n.tc(13," + Novo Cliente "),n.Ob(),n.Ob(),n.Ob(),n.Pb(14,"div",8),n.Pb(15,"table",9),n.Pb(16,"thead"),n.Pb(17,"tr"),n.Pb(18,"th"),n.tc(19,"Cliente"),n.Ob(),n.Pb(20,"th"),n.tc(21,"E-mail"),n.Ob(),n.Pb(22,"th"),n.tc(23,"Telefone"),n.Ob(),n.Pb(24,"th"),n.tc(25,"Valor por sess\xe3o"),n.Ob(),n.Kb(26,"th"),n.Ob(),n.Ob(),n.Pb(27,"tbody"),n.rc(28,l,14,7,"tr",10),n.Ob(),n.Ob(),n.Pb(29,"app-paginador",11),n.Wb("aoMudarDePagina",(function(e){return t.obtenhaTodos(e)})),n.Ob(),n.Ob()),2&e&&(n.yb(28),n.dc("ngForOf",t.clientes),n.yb(1),n.dc("totalDeItens",t.quantidadeTotalDeItens||0)("pageSize",t.pageSize))},directives:[i.c,r.j,b.a],styles:[""]}),e})();var d=o("3Pt+");let u=(()=>{class e{}return e.sexoEnum={1:"Masculino",2:"Feminino",3:"Outros"},e.estadoCivilEnum={1:"Solteiro",2:"Casado",3:"Divorciado",4:"Separado",5:"Vi\xfavo"},e.escolaridadeEnum={1:"Educac\xe3o B\xe1sica",2:"Educac\xe3o Infantil",3:"Ensino Fundamental",4:"Ensino M\xe9dio",5:"Educ\xe3o Superior"},e})();var m=o("yrpv"),f=o("eIep"),p=o("hUol"),v=o.n(p),O=o("WDxQ"),g=o("eO1q"),P=o("9nqD");function h(e,t){1&e&&(n.Pb(0,"div"),n.tc(1,"Dado obrigat\xf3rio"),n.Ob())}function y(e,t){if(1&e&&(n.Pb(0,"div",67),n.rc(1,h,2,0,"div",68),n.Ob()),2&e){const e=n.Yb();n.yb(1),n.dc("ngIf",e.clienteForm.get("nome").errors.required)}}function C(e,t){1&e&&(n.Pb(0,"div"),n.tc(1,"Dado obrigat\xf3rio"),n.Ob())}function F(e,t){if(1&e&&(n.Pb(0,"div",67),n.rc(1,C,2,0,"div",68),n.Ob()),2&e){const e=n.Yb();n.yb(1),n.dc("ngIf",e.clienteForm.get("idade").errors.required)}}function N(e,t){if(1&e&&(n.Pb(0,"option",69),n.tc(1),n.Ob()),2&e){const e=t.$implicit;n.dc("value",e.value),n.yb(1),n.uc(e.text)}}function S(e,t){1&e&&(n.Pb(0,"div"),n.tc(1,"Dado obrigat\xf3rio"),n.Ob())}function x(e,t){if(1&e&&(n.Pb(0,"div",67),n.rc(1,S,2,0,"div",68),n.Ob()),2&e){const e=n.Yb();n.yb(1),n.dc("ngIf",e.clienteForm.get("sexo").errors.required)}}function D(e,t){if(1&e&&(n.Pb(0,"option",69),n.tc(1),n.Ob()),2&e){const e=t.$implicit;n.dc("value",e.value),n.yb(1),n.uc(e.text)}}function E(e,t){1&e&&(n.Pb(0,"div"),n.tc(1,"Dado obrigat\xf3rio"),n.Ob())}function I(e,t){if(1&e&&(n.Pb(0,"div",67),n.rc(1,E,2,0,"div",68),n.Ob()),2&e){const e=n.Yb();n.yb(1),n.dc("ngIf",e.clienteForm.get("dataDeNascimento").errors.required)}}function q(e,t){if(1&e&&(n.Pb(0,"option",69),n.tc(1),n.Ob()),2&e){const e=t.$implicit;n.dc("value",e.value),n.yb(1),n.vc("",e.text," ")}}function w(e,t){1&e&&(n.Pb(0,"div"),n.tc(1,"Dado obrigat\xf3rio"),n.Ob())}function M(e,t){if(1&e&&(n.Pb(0,"div",67),n.rc(1,w,2,0,"div",68),n.Ob()),2&e){const e=n.Yb();n.yb(1),n.dc("ngIf",e.clienteForm.get("valorSessao").errors.required)}}function K(e,t){if(1&e&&(n.Pb(0,"li"),n.tc(1),n.Ob()),2&e){const e=t.$implicit;n.yb(1),n.vc(" ",e," ")}}function T(e,t){if(1&e&&(n.Pb(0,"div",70),n.Pb(1,"strong"),n.tc(2,"Erro no servidor"),n.Ob(),n.Pb(3,"ul"),n.rc(4,K,2,1,"li",71),n.Ob(),n.Ob()),2&e){const e=n.Yb();n.yb(4),n.dc("ngForOf",e.serverErrorMessages)}}const k=function(){return{width:"100%"}},J=function(){return{prefix:"",thousands:".",decimal:","}};let B=(()=>{class e{constructor(e,t,o,r){this.clienteService=e,this.route=t,this.router=o,this.formBuilder=r,this.serverErrorMessages=null,this.submittingForm=!1,this.cliente=new u,this.ptBR={firstDayOfWeek:0,dayNames:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayNamesMin:["Do","Se","Te","Qu","Qu","Se","Sa"],monthNames:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",clear:"Limpar"}}ngAfterContentChecked(){this.setPageTitle()}setPageTitle(){this.pageTitle=this.currentAction==m.a.pathNovo?"Cadastro de novo cliente":"Editando cliente "+(this.cliente.nome||"")}ngOnInit(){this.setCurrentAction(),this.buildClienteForm(),this.loadCliente(),this.sexos=O.a.getOptions(u.sexoEnum),this.estadosCivis=O.a.getOptions(u.estadoCivilEnum),this.escolaridades=O.a.getOptions(u.escolaridadeEnum)}setCurrentAction(){this.currentAction=this.route.snapshot.url[0].path==m.a.pathNovo?m.a.pathNovo:m.a.pathEdite}buildClienteForm(){this.clienteForm=this.formBuilder.group({id:["00000000-0000-0000-0000-000000000000"],nome:[null,[d.q.required,d.q.maxLength(100)]],idade:[null,[d.q.required]],dataDeNascimento:[null,[d.q.required]],estadoCivil:[0],sexo:[0,[d.q.required]],rg:[null],cpf:[null],escolaridade:[0],profissao:[null],telefone:[null],valorSessao:[null,[d.q.required]],email:[null],endereco:this.formBuilder.group({cep:[null],logradouro:[null],numero:[null],bairro:[null],cidade:[null],estado:[null]}),observacao:[null,[d.q.maxLength(1e3)]]})}loadCliente(){this.currentAction==m.a.pathEdite&&this.route.paramMap.pipe(Object(f.a)(e=>this.clienteService.getById(e.get("id")))).subscribe(e=>{this.cliente=e,this.cliente.dataDeNascimento=e.dataDeNascimento.substring(0,e.dataDeNascimento.lastIndexOf("T")).split("-").reverse().join("/"),this.clienteForm.patchValue(this.cliente)},e=>alert("Ocorreu um erro no servidor, por favor tente mais tarde."))}submitForm(){this.submittingForm=!0,this.currentAction==m.a.pathNovo?this.createCliente():this.updateCliente()}createCliente(){let e=this.MapearCliente();this.clienteService.create(e).subscribe(e=>this.actionFormSuccess(e),e=>this.actionsFormError(e))}MapearCliente(){let e=Object.assign(new u,this.clienteForm.value);return e.dataDeNascimento=e.dataDeNascimento.split("/").reverse().join("-"),e.sexo=parseInt(e.sexo.toString()),e.escolaridade=parseInt(e.escolaridade.toString()),e.estadoCivil=parseInt(e.estadoCivil.toString()),e}actionFormSuccess(e){v.a.success("Solicita\xe7\xe3o processada com sucesso!"),this.router.navigateByUrl("clientes",{skipLocationChange:!0}).then(()=>this.router.navigate(["clientes",e.id,m.a.pathEdite]))}actionsFormError(e){v.a.error("Ocorreu um erro ao processar sua solicita\xe7\xe3o!"),this.submittingForm=!1,this.serverErrorMessages=222===e.status?JSON.parse(e._body).errors:["Falha na comunica\xe7\xe3o com o servidor, por favor tente mais tarde!"]}updateCliente(){let e=this.MapearCliente();this.clienteService.update(e).subscribe(e=>this.actionFormSuccess(e),e=>this.actionsFormError(e))}}return e.\u0275fac=function(t){return new(t||e)(n.Jb(a.a),n.Jb(i.a),n.Jb(i.b),n.Jb(d.b))},e.\u0275cmp=n.Db({type:e,selectors:[["app-form-clientes"]],decls:124,vars:20,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["routerLink","/clientes"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-md"],[1,"h2","border-left","pl-2"],["routerLink","/clientes",1,"btn","btn-light","float-right"],[3,"formGroup","submit"],[1,"card"],[1,"card-body"],[1,"form-row"],[1,"form-group","col-md-5"],["for","nome"],["type","text","id","nome","formControlName","nome","maxlength","100",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"form-group","col-md-1"],["for","idade"],["type","number","id","idade","formControlName","idade",1,"form-control"],[1,"form-group","col-md-2"],["for","sexo"],["name","sexo","id","sexo","formControlName","sexo",1,"form-control"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["for","estadoCivil"],["name","estadoCivil","id","estadoCivil","formControlName","estadoCivil",1,"form-control"],["for","dataDeNascimento"],["id","dataDeNascimento","formControlName","dataDeNascimento","inputStyleClass","form-control","dataType","string","dateFormat","dd/mm/yy",3,"locale","showButtonBar"],[1,"form-group","col-md-6"],["for","profissao"],["type","text","id","profissao","formControlName","profissao",1,"form-control"],[1,"form-group","col-md-3"],["for","escolaridade"],["name","escolaridade","id","escolaridade","formControlName","escolaridade",1,"form-control"],["for","email"],["type","text","id","email","formControlName","email",1,"form-control"],["for","rg"],["type","text","id","rg","formControlName","rg",1,"form-control"],["for","cpf"],["type","text","id","cpf","formControlName","cpf",1,"form-control"],["for","telefone"],["type","text","id","telefone","formControlName","telefone",1,"form-control"],["for","valorSessao"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["currencyMask","","type","text","id","valorSessao","formControlName","valorSessao",1,"form-control","text-right",3,"options"],["formGroupName","endereco"],[1,"form-group","col-md-4"],["for","cep"],["type","text","id","cep","formControlName","cep",1,"form-control"],["for","logradouro"],["type","text","id","logradouro","formControlName","logradouro",1,"form-control"],["for","numero"],["type","text","id","numero","formControlName","numero",1,"form-control"],["for","bairro"],["type","text","id","bairro","formControlName","bairro",1,"form-control"],["for","cidade"],["type","text","id","cidade","formControlName","cidade",1,"form-control"],["for","estado"],["type","text","id","estado","formControlName","estado",1,"form-control"],[1,"form-group","col-md-12"],["for","observacao"],["rows","5","id","observacao","formControlName","observacao",1,"form-control"],["class","alert alert-danger mt-4",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-lg","float-right","mt-3",3,"disabled"],[1,"text-danger"],[4,"ngIf"],[3,"value"],[1,"alert","alert-danger","mt-4"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(n.Pb(0,"nav"),n.Pb(1,"ol",0),n.Pb(2,"li",1),n.Pb(3,"a",2),n.tc(4,"Home"),n.Ob(),n.Ob(),n.Pb(5,"li",1),n.Pb(6,"a",3),n.tc(7,"Clientes"),n.Ob(),n.Ob(),n.Pb(8,"li",4),n.tc(9),n.Ob(),n.Ob(),n.Ob(),n.Pb(10,"div",5),n.Pb(11,"div",6),n.Pb(12,"h1",7),n.tc(13),n.Ob(),n.Ob(),n.Pb(14,"div",6),n.Pb(15,"a",8),n.tc(16," Voltar "),n.Ob(),n.Ob(),n.Ob(),n.Pb(17,"form",9),n.Wb("submit",(function(){return t.submitForm()})),n.Pb(18,"div",10),n.Pb(19,"div",11),n.Pb(20,"div",12),n.Pb(21,"div",13),n.Pb(22,"label",14),n.tc(23,"Nome"),n.Ob(),n.Kb(24,"input",15),n.rc(25,y,2,1,"div",16),n.Ob(),n.Pb(26,"div",17),n.Pb(27,"label",18),n.tc(28,"Idade"),n.Ob(),n.Kb(29,"input",19),n.rc(30,F,2,1,"div",16),n.Ob(),n.Pb(31,"div",20),n.Pb(32,"label",21),n.tc(33,"Sexo"),n.Ob(),n.Pb(34,"select",22),n.Pb(35,"option",23),n.tc(36,"Selecione..."),n.Ob(),n.rc(37,N,2,2,"option",24),n.Ob(),n.rc(38,x,2,1,"div",16),n.Ob(),n.Pb(39,"div",20),n.Pb(40,"label",25),n.tc(41,"Estado Civil"),n.Ob(),n.Pb(42,"select",26),n.Pb(43,"option",23),n.tc(44,"Selecione..."),n.Ob(),n.rc(45,D,2,2,"option",24),n.Ob(),n.Ob(),n.Pb(46,"div",20),n.Pb(47,"label",27),n.tc(48,"Data do nascimento"),n.Ob(),n.Kb(49,"p-calendar",28),n.rc(50,I,2,1,"div",16),n.Ob(),n.Ob(),n.Pb(51,"div",12),n.Pb(52,"div",29),n.Pb(53,"label",30),n.tc(54,"Profiss\xe3o"),n.Ob(),n.Kb(55,"input",31),n.Ob(),n.Pb(56,"div",32),n.Pb(57,"label",33),n.tc(58,"Escolaridade"),n.Ob(),n.Pb(59,"select",34),n.Pb(60,"option",23),n.tc(61,"Selecione..."),n.Ob(),n.rc(62,q,2,2,"option",24),n.Ob(),n.Ob(),n.Pb(63,"div",32),n.Pb(64,"label",35),n.tc(65,"Email"),n.Ob(),n.Kb(66,"input",36),n.Ob(),n.Ob(),n.Pb(67,"div",12),n.Pb(68,"div",32),n.Pb(69,"label",37),n.tc(70,"RG"),n.Ob(),n.Kb(71,"input",38),n.Ob(),n.Pb(72,"div",32),n.Pb(73,"label",39),n.tc(74,"CPF"),n.Ob(),n.Kb(75,"input",40),n.Ob(),n.Pb(76,"div",32),n.Pb(77,"label",41),n.tc(78,"Telefone"),n.Ob(),n.Kb(79,"input",42),n.Ob(),n.Pb(80,"div",32),n.Pb(81,"label",43),n.tc(82,"Valor da Sess\xe3o"),n.Ob(),n.Pb(83,"div",44),n.Pb(84,"div",45),n.Pb(85,"div",46),n.tc(86,"R$"),n.Ob(),n.Ob(),n.Kb(87,"input",47),n.Ob(),n.rc(88,M,2,1,"div",16),n.Ob(),n.Ob(),n.Pb(89,"div",48),n.Pb(90,"div",12),n.Pb(91,"div",49),n.Pb(92,"label",50),n.tc(93,"CEP"),n.Ob(),n.Kb(94,"input",51),n.Ob(),n.Pb(95,"div",49),n.Pb(96,"label",52),n.tc(97,"Logradouro"),n.Ob(),n.Kb(98,"input",53),n.Ob(),n.Pb(99,"div",49),n.Pb(100,"label",54),n.tc(101,"N\xfamero"),n.Ob(),n.Kb(102,"input",55),n.Ob(),n.Ob(),n.Pb(103,"div",12),n.Pb(104,"div",49),n.Pb(105,"label",56),n.tc(106,"Bairro"),n.Ob(),n.Kb(107,"input",57),n.Ob(),n.Pb(108,"div",49),n.Pb(109,"label",58),n.tc(110,"Cidade"),n.Ob(),n.Kb(111,"input",59),n.Ob(),n.Pb(112,"div",49),n.Pb(113,"label",60),n.tc(114,"Estado"),n.Ob(),n.Kb(115,"input",61),n.Ob(),n.Ob(),n.Ob(),n.Pb(116,"div",12),n.Pb(117,"div",62),n.Pb(118,"label",63),n.tc(119,"Observa\xe7\xe3o"),n.Ob(),n.Kb(120,"textarea",64),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.rc(121,T,5,1,"div",65),n.Pb(122,"button",66),n.tc(123,"Salvar"),n.Ob(),n.Ob()),2&e&&(n.yb(9),n.uc(t.pageTitle),n.yb(4),n.vc(" ",t.pageTitle," "),n.yb(4),n.dc("formGroup",t.clienteForm),n.yb(8),n.dc("ngIf",t.clienteForm.get("nome").invalid&&t.clienteForm.get("nome").touched),n.yb(5),n.dc("ngIf",t.clienteForm.get("idade").invalid&&t.clienteForm.get("idade").touched),n.yb(7),n.dc("ngForOf",t.sexos),n.yb(1),n.dc("ngIf",t.clienteForm.get("sexo").invalid&&t.clienteForm.get("sexo").touched),n.yb(7),n.dc("ngForOf",t.estadosCivis),n.yb(4),n.pc(n.ec(18,k)),n.dc("locale",t.ptBR)("showButtonBar",!0),n.yb(1),n.dc("ngIf",t.clienteForm.get("dataDeNascimento").invalid&&t.clienteForm.get("dataDeNascimento").touched),n.yb(12),n.dc("ngForOf",t.escolaridades),n.yb(25),n.dc("options",n.ec(19,J)),n.yb(1),n.dc("ngIf",t.clienteForm.get("valorSessao").invalid&&t.clienteForm.get("valorSessao").touched),n.yb(33),n.dc("ngIf",t.serverErrorMessages),n.yb(1),n.dc("disabled",t.submittingForm||t.clienteForm.invalid))},directives:[i.c,d.s,d.k,d.d,d.a,d.j,d.c,d.g,r.k,d.n,d.p,d.m,d.r,r.j,g.a,P.a,d.e],styles:[""]}),e})();const L=[{path:"",component:s},{path:m.a.pathNovo,component:B},{path:":id/"+m.a.pathEdite,component:B}];let A=(()=>{class e{}return e.\u0275mod=n.Hb({type:e}),e.\u0275inj=n.Gb({factory:function(t){return new(t||e)},imports:[[i.d.forChild(L)],i.d]}),e})();var j=o("PCNd"),Q=o("arFO"),z=o("vxfF");let G=(()=>{class e{}return e.\u0275mod=n.Hb({type:e}),e.\u0275inj=n.Gb({factory:function(t){return new(t||e)},imports:[[r.b,A,d.o,d.f,g.b,P.b,j.a,z.d,Q.b]]}),e})()}}]);